<h2>Product Inventory</h2>
<button routerLink="/add" class="btn btn-primary">Add Product</button>

<igx-grid [data]="products" #grid1 [autoGenerate]="false" height="500px" width="100%">
  
  <!-- Name -->
  <igx-column field="name" header="Name"></igx-column>

  <!-- Price -->
  <igx-column field="price" header="Price"></igx-column>

  <!-- Quantity -->
  <igx-column field="quantity" header="Quantity"></igx-column>

  <!-- Category Dropdown -->
  <igx-column field="categoryId" header="Category">
    <ng-template igxCell let-cell="cell">
      <select [(ngModel)]="cell.row.data.categoryId" (change)="updateCategory(cell.row.data)">
        <option *ngFor="let c of categories" [value]="c.id">
          {{ c.name }}
        </option>
      </select>
    </ng-template>
  </igx-column>

  <!-- Actions -->
  <igx-column header="Actions">
    <ng-template igxCell let-cell="cell">
      <button [routerLink]="['/edit', cell.row.data.id]">Edit</button>
      <button (click)="delete(cell.row.data.id)">Delete</button>
    </ng-template>
  </igx-column>
<igx-paginator
  [perPage]="pageSize"
  [totalRecords]="totalCount"
  (perPageChange)="onPageSizeChange($event)"
  (pageChange)="onPageChange($event)">

  <ng-template igxPaginator let-paginator>
    <div class="flex items-center justify-between w-full">
      <!-- Items per page -->
      <div class="flex items-center">
        <span>Items per page:</span>
        <igx-select [(ngModel)]="paginator.perPage" class="ml-2 w-16">
          <igx-select-item *ngFor="let option of [5,10,15,20]" [value]="option">
            {{ option }}
          </igx-select-item>
        </igx-select>
      </div>

      <!-- Page navigation -->
      <div class="flex items-center gap-2">
        <button igxButton="flat" (click)="paginator.previousPage()" [disabled]="paginator.isFirstPage">
          Previous
        </button>
        <span>{{ paginator.page + 1 }} of {{ paginator.totalPages }}</span>
        <button igxButton="flat" (click)="paginator.nextPage()" [disabled]="paginator.isLastPage">
          Next
        </button>
      </div>
    </div>
  </ng-template>
</igx-paginator>

</igx-grid>

